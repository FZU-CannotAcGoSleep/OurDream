铜尾

# H
现场卡了很久，提的模型都被否决了，赛后知道是没学过的kruscal重构树知识点，队友已经学了。

很妙，所谓在树上动态累加这个过程可以预处理出来，询问是在线做，利用了重构树的结构（堆，二叉树（log层），最小边权最大值）

# K
vp的时候没榜，不知道这题可做，gl赛后半小时过了。多看看题，避免可做题没开。

# M
金牌题构造，分两次想到二分图匹配，轻易想到n^2下界，但可以再小一些。。（这个有点太抽象了）

# J
有一些很典的点，比如5e4可以用n²/w(机器字长)过去，比如对于01个个数比较可以把1看成1把0看成-1转化成前缀和，

比如观察到bi=1和bi=0的情况其实是对称的，有很强的对称性，可以利用这个性质做一些东西；

观察一个结论：（假设当前bi==1），若sum[i]>sum[j]，且i<j，则对于j来说，i对应的那个k就是不合法的，因为[i,j]这段里0的个数肯定比1多，

启发了我们可以按sum的大小去sort（从大到小），逐个遍历;维护一个bitset叫ans，

每次 | 上位置小于当前枚举到的pos（因为这些位置的sum比pos大，且位置又比pos小，满足上述讨论，这些位置对应的k就是不合法的），

然后做完后把当前位置标志为访问过；如果是bi==0的话，看成1和0调换，取个反即可；

最后注意，要满足题意那个(max(i-k+1,1),i)，只需要维护一个最小的不满足的长度limit，对于所有>limit的k，肯定也不满足。
